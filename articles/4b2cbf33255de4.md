---
title: "PHPUnit実行環境をDockerでサクッと構築！"
emoji: "📝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Docker", "PHPUnit", "PHP"]
published: false
---

# はじめに

PHP単体でテストコードの練習がしたいな〜と思い、サクッとDockerでPHPUnitの実行環境を作りました。
Dockerについて勉強中のため、手順などをまとめてみます。

# DockerでPHPUnit環境を構築

## DockerHubでイメージを選ぶ

基本的には以下の2パターンから選択することになると思います。

1. [PHP公式イメージ](https://hub.docker.com/_/php)にPHPUnitを入れる(composerなどを使って)
2. PHPUnitイメージを探して構築する ex. [phpunit/phpunit](https://hub.docker.com/r/phpunit/phpunit)

:::message
2 の方が簡単ではありますが、例えば記載したphpunit/phpunitのイメージはアップデートが古くで、PHP7系かつPHPUnitのバージョンも古かったりするので、実際のプロジェクトでは使えない可能性が高いです。ご注意ください。
:::

今回は、**PHPの実行環境にComposerでPHPUnitを入れるパターン1** を試してみたいと思います。

## PHPの公式イメージを確認する

- [PHP公式イメージ](https://hub.docker.com/_/php)

リファレンスに色々と記載されているので、目を通しておきます。

### イメージ選択

PHPの公式イメージの中でさらに種類があるので確認します。
**Image Variants**の章を確認すると、以下の種類を確認できます。
Webサーバーも梱包されているイメージもあります。

- php:<version>-cli
- php:<version>-apache(PHPとApache)
- php:<version>-fpm(PHPとPHP-FPM)
- php:<version>-alpine（PHPとAlpine Linux)

### バージョン選択

# PHPUnitの実行